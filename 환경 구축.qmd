---
title: Chapter3. í™˜ê²½ êµ¬ì¶•
engine: knitr
---

## 1. Linux í™˜ê²½ ì„¤ì • {.unnumbered}

**ğŸ’¡ Environment Modules**

    Environment ModulesëŠ” ì‚¬ìš©ìë¡œ í•˜ì—¬ê¸ˆ 
    Unix/Linux í™˜ê²½ ì„¤ì •ì„ ì‰½ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ëª¨ë“ˆì…ë‹ˆë‹¤. 
    Environment Modulesë¥¼ í™œìš©í•˜ë©´ í™˜ê²½ë³€ìˆ˜(PATH ë“±)ì„ 
    ì¼ì¼íˆ ë‹¤ì‹œ ì§€ì •í•´ ì¤„ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. 

    ê³µì‹ í™ˆí˜ì´ì§€(https://modules.sourceforge.net/)ì—ì„œ ë‹¤ìš´ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

### 1.1 Module avail {.unnumbered}

UBIA Cluster ë‚´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ëª¨ë“ˆì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module avail

---------------------- /opt/ohpc/pub/modulefiles ----------------------
   CUDA/11.2.2             cmake/3.24.2                  cuda/11.2.2        
   EasyBuild/4.9.1         compiler-rt/latest            cuda/11.3.1       
   R/4.3.1                 compiler-rt/2023.1.0   (D)    cuda/11.4.4        
   advisor/latest          compiler-rt32/latest          cuda/11.5.2        
   advisor/2023.1.0 (D)    compiler-rt32/2023.1.0 (D)    cuda/11.6.2       
   autotools               compiler/latest               cuda/11.7.1       
   ccl/latest              compiler/2023.1.0      (D)    cuda/11.8.0       
   ccl/2021.9.0     (D)    compiler32/latest             cuda/12.0.0       
   clck/latest             compiler32/2023.1.0    (D)    cuda/12.1.1       
   clck/2021.7.3    (D)    cuda/leejihun_cuda            cuda/12.2.1 (D)   

  Where:
   D:  Default Module

If the avail list is too long consider trying:

"module --default avail" or "ml -d av" to just list the default modules.
"module overview" or "ml ov" to display the number of modules for each name.

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching any of the "keys".
```


### 1.2 Module show {.unnumbered}

ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ëª¨ë“ˆì˜ ì„¸ë¶€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module show cuda/11.2.2
------------------------------------------------
   /opt/ohpc/pub/modulefiles/cuda/11.2.2:
------------------------------------------------
whatis("Name: CUDA Collection")
whatis("Version: 11.2.2")
whatis("Category: cuda")
prepend_path("PATH","/opt/ohpc/pub/cuda/11.2.2/bin")
prepend_path("INCLUDE","/opt/ohpc/pub/cuda/11.2.2/include")
prepend_path("LD_LIBRARY_PATH","/opt/ohpc/pub/cuda/11.2.2/lib64")
family("cuda")
help([[ 
This module loads the CUDA

Version 11.2.2

]])
```

### 1.3 Module load {.unnumbered}

íŠ¹ì • ëª¨ë“ˆì„ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ì—¬ëŸ¬ ëª¨ë“ˆì„ ë™ì‹œì— ë¶ˆëŸ¬ì˜¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module load cuda/11.2.2
```

### 1.4 Module list {.unnumbered}

í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ëª¨ë“ˆì˜ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module list

Currently Loaded Modules:
  1) cuda/11.2.2   2) dal/latest
```

### 1.5 Module rm {.unnumbered}

ì‚¬ìš© ëª©ë¡ì—ì„œ íŠ¹ì • ëª¨ë“ˆì„ ì œê±°í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module rm dal/latest

Removing dal version 2023.1.0
Use `module list` to view any remaining dependent modules.
```

### 1.6 Module purge {.unnumbered}

`module rm`ì™€ ë‹¬ë¦¬ ì „ì²´ ì‚¬ìš© ëª©ë¡ì„ ì´ˆê¸°í™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. `module purge`ì‹¤í–‰ í›„ `module list`ì— ì•„ë¬´ëŸ° moduleì´ ì¶œë ¥ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```{bash}
#| eval: false
(ubai) [ssu@gate1 ~]$ module purge

(ubai) [ssu@gate1 ~]$ module list
No modules loaded
```


## 2. Python í™˜ê²½ ì„¤ì • {.unnumbered}

**ğŸ’¡ Python**

    Pythonì€ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤, 
    ë¨¸ì‹ ëŸ¬ë‹, ë”¥ëŸ¬ë‹ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤. 
    ì˜¤í”ˆì†ŒìŠ¤ í™˜ê²½ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ë§ì€ ì‚¬ëŒë“¤ì´ ì´ìš©í•˜ëŠ” ì–¸ì–´ì…ë‹ˆë‹¤.

íŒŒì´ì¬ì„ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë³´í†µ Anacondaë¥¼ í™œìš©í•˜ì§€ë§Œ ë¦¬ëˆ…ìŠ¤ ì»´í“¨íŒ… í™˜ê²½ì—ì„œëŠ” Minicondaë¥¼ í™œìš©í•©ë‹ˆë‹¤. UBAI ìŠˆí¼ì»´í“¨í„°ì—ì„œë„ íŒŒì´ì¬ì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Minicondaë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

**ğŸ’¡ Miniconda**

    AnacondaëŠ” ë¨¸ì‹ ëŸ¬ë‹ì´ë‚˜ ë°ì´í„° ë¶„ì„ ë“±ì— ì‚¬ìš©í•˜ëŠ” 
    ì—¬ëŸ¬ê°€ì§€ íŒ¨í‚¤ì§€ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë˜ì–´ìˆëŠ” íŒŒì´ì¬ ë°°í¬íŒì…ë‹ˆë‹¤. 
    íŒŒì´ì¬ì˜ ê°€ìƒí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ”ë° ë§¤ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤. 

    MinicondaëŠ” Anacondaì˜ ê²½ëŸ‰ë²„ì „ì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2.1 Minicoda ì„¤ì¹˜ {.unnumbered}

Miniconda ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” Minicondaì˜ ë‹¤ìš´ë¡œë“œ ì‚¬ì´íŠ¸ ë§í¬ë¥¼ ì´ìš©í•œ ë‹¤ìš´ë¡œë“œ ë°©ë²•ì„ ì±„íƒí•©ë‹ˆë‹¤.

1.  ë©”ë‰´ì—ì„œ ìƒˆ terminalì„ ìƒì„±í•˜ì‹œê³  terminal ì¹¸ì— ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. ì´ëŠ” Miniconda ë‹¤ìš´ë¡œë“œ íŒŒì¼ ì¸í„°ë„·ìœ¼ë¡œë¶€í„° ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

    `wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh`


2. wgetìœ¼ë¡œ ë°›ì€ íŒŒì¼ì„ ì´ìš©í•´ bash ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. 
    
    `bash Miniconda3-latest-Linux-x86_64.sh`
    

3. ì‹¤í–‰í•˜ë©´ Miniconda ì‚¬ìš©ì— ë”°ë¥¸ ì•ˆë‚´ë¬¸ê³¼ ê°™ì€ ë‚´ìš©ì´ ëœ¨ê¸° ë•Œë¬¸ì— ë‚´ìš©ì´ ê½¤ ê¹ë‹ˆë‹¤. ë¼ì´ì„¼ìŠ¤ ë™ì˜ì— ëŒ€í•œ ë‚´ìš©ì´ ëª¨ë‘ ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ Enterë¥¼ ê¾¹ ëˆŒëŸ¬ì¤ë‹ˆë‹¤. ê·¸ í›„ ë¼ì´ì„¼ìŠ¤ ë™ì˜ í™•ì¸ì— ëŒ€í•œ ì§ˆë¬¸ì— â€˜yesâ€™ ë¼ê³  ì…ë ¥í•´ì¤ë‹ˆë‹¤. Enterë¥¼ ë„ˆë¬´ ì˜¤ë˜ ëˆŒëŸ¬ ë™ì˜ í™”ë©´ì´ ë°”ë¡œ ë„˜ì–´ê°€ì§€ ì•Šê²Œ ì£¼ì˜í•˜ì„¸ìš”.

4. í™”ë©´ì—ì„œ í•´ë‹¹ ê²½ë¡œê°€ ìì‹ ì˜ ì„œë²„ì— ìˆëŠ” ê²½ë¡œì™€ ë§ëŠ”ì§€ í™•ì¸ í›„ Enterë¥¼ ëˆŒëŸ¬ì¤ë‹ˆë‹¤.

5. ì²˜ìŒ ì ‘ì† ì‹œ, conda init ì§„í–‰ ì„ íƒì— ëŒ€í•œ ì§ˆë¬¸ì´ ëœ¹ë‹ˆë‹¤. â€˜yesâ€™ë¥¼ ì…ë ¥í•˜ì‹  í›„ enterë¥¼ ëˆŒëŸ¬ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. 

6. ë³€ê²½ì‚¬í•­ ë°˜ì˜ì„ ìœ„í•´ ì§€ê¸ˆ ì‘ì—…í•œ ì°½ì„ ë‹«ê³  ìƒˆë¡œ ì ‘ì†í•˜ì„¸ìš”.

7. ì¬ì ‘ì† ì‹œ, terminalì— `(base)[ì‚¬ìš©ìID@ì‚¬ìš©ì_gate_number]`ê°€ ë³´ì¸ë‹¤ë©´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ì™„ë£Œëœ ê²ƒì…ë‹ˆë‹¤. ì„¤ì¹˜ í›„ ì™¼ìª½ì˜ íƒìƒ‰ê¸°(Explorer) ëª©ë¡ì— miniconda í´ë”ê°€ ìˆëŠ”ì§€ ê¼­ í™•ì¸í•´ì£¼ì„¸ìš”.


### 2.2 Minicoda ì‹¤í–‰ {.unnumbered}

Miniconda ì„¤ì¹˜ í›„, Python ê°€ìƒ í™˜ê²½ì„ ìƒì„±í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

ê°€ìƒí™˜ê²½ì„ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ë©´ Python íŒ¨í‚¤ì§€ì˜ í˜¸í™˜ì„± ë¬¸ì œ(Package Dependencies)ë¥¼ í•´ê²°í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë‚˜ ê³µëª¨ì „ì„ ì§„í–‰í•¨ì— ìˆì–´ ê° ì‘ì—…ì— í•„ìš”í•œ Python íŒ¨í‚¤ì§€ë¥¼ í™˜ê²½ ë³„ë¡œ ì„¤ì¹˜í•˜ì—¬ ë”°ë¡œ ê´€ë¦¬í•˜ê¸°ì— ìš©ì´í•©ë‹ˆë‹¤.

1. ê°€ìƒ í™˜ê²½ ìƒì„±ì„ ìœ„í•´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ terminalì— ì…ë ¥í•©ë‹ˆë‹¤.

`conda create -n {ê°€ìƒí™˜ê²½_ì´ë¦„} python={ì„¤ì¹˜í• _Python_ë²„ì „}`

ex. `conda create -n ubai python=3.11`

2. ìƒì„±í•œ ê°€ìƒí™˜ê²½ì— ì§„ì…í•©ë‹ˆë‹¤.

`conda activate {ê°€ìƒí™˜ê²½_ì´ë¦„}`

ex. `conda activate ubai`

![](./jpg/conda.jpg)


**ğŸ“Œ ì°¸ê³  ì‚¬í•­**

í•´ë‹¹ ê°€ìƒ í™˜ê²½ì—ì„œ Jupyter notebookì˜ ì‚¬ìš©ì„ í¬ë§í•  ì‹œ, ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br>
`pip install ipykernel jupyerlab` or `conda install ipykernel jupyterlab`

<div style="font-size: 13px;">â€» *Python í™˜ê²½ì—ì„œëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ ìœ„í•´ `pip install` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.*</div>

